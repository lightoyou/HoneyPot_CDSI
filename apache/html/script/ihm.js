window.$current_dico;var language=$.cookie("LANGUE");var currentDate=new Date();if(language===null){language="EN";$.cookie("LANGUE",language,{expires:7,path:"/",domain:"schneider-electric.com",secure:false})}$.ajax({type:"GET",async:false,dataType:"xml",cache:true,url:"DICO/DICOS/dico_"+language+".xml",success:function(a){window.$current_dico=$(a)}});function getSessionid(){$.ajax({type:"GET",async:false,url:"kw?page=getsessionid.xml&sessionid="+Sessionid(),complete:function(b,a){sessionid=$(b)[0].responseText}})}function Sessionid(){return((typeof window.sessionid!=="undefined")?sessionid:document.sessionid)}function translate(){language=$.cookie("LANGUE");if(language===null){language="EN";$.cookie("LANGUE",language,{expires:7,path:"/",domain:"schneider-electric.com",secure:false})}var a=null;$.ajax({type:"GET",async:false,dataType:"xml",cache:true,url:"DICO/language.xml",success:function(d){a=$(d)},error:function(d,f,e){if(window.console&&console.log){console.log("FAILED to get language.xml, we'll use default list for available languages ["+f+" : "+e+"]")}a=null}});var c=$("#select_dico");c.find("option").remove().end();if(a!==null){a.find("language").each(function(){var d=$("<option></option>").attr("value",$(this).attr("id")).text($(this).text());if($(this).attr("id")==language){d.attr("selected","selected")}c.append(d)})}else{var b=$("<option></option>").attr("value","FR").text("Français");if(language==="FR"){b.attr("selected","selected")}c.append(b);b=$("<option></option>").attr("value","EN").text("English");if(language==="EN"){b.attr("selected","selected")}c.append(b);b=$("<option></option>").attr("value","ES").text("Español");if(language==="ES"){b.attr("selected","selected")}c.append(b);b=$("<option></option>").attr("value","IT").text("Italiano");if(language==="IT"){b.attr("selected","selected")}c.append(b)}$.ajax({type:"GET",async:false,dataType:"xml",cache:true,url:"DICO/DICOS/dico_"+language+".xml",success:function(l){window.$current_dico=$(l);var d=$(l).find("ID");var h=d.length;var f=0;for(var j=0;j<h;j++){if(isNaN(d[j].attributes[0].value)==true){f=j;break}}var g;var k=1;var e=["C_122","C_121","C_120","C_104"];$("*[ID^=dico_]").filter(function(){for(var m=0;m<e.length;m++){if($(this).attr("id").indexOf(e[m])>0){return false}}return true}).each(function(){var s=$(this).attr("id");s=s.substring(5,s.length);if(typeof(pervasive)!="undefined"){if(pervasive){if(isNaN(s)===true){if(s.substring(0,4)=="C_10"){switch(s.substring(4,5)){case"0":var r=/C_100_(\d+)/;s=s.replace(r,"C_124_$1");break;case"1":var n=/C_101_(\d+)/;s=s.replace(n,"C_125_$1");break;case"2":var m=/C_102_(\d+)/;s=s.replace(m,"C_44_$1");break}}}}}g=null;if(isNaN(s)===false){var q=((parseInt(s,10)-10)>0)?(parseInt(s,10)-10):0;var p=((parseInt(s,10)+10)>h)?h:(parseInt(s,10)+10);for(q;q<p;q++){if(d[q].attributes[0].value==s){g=d[q].attributes[1].value;break}}if(g==null){for(var q=0;q<f;q++){if(d[q].attributes[0].value==s){g=d[q].attributes[1].value;break}}}}else{if((d[k+1]!=undefined)&&(d[k+1].attributes[0].value==s)){g=d[k+1].attributes[1].value;k++}else{if((d[k-1]!=undefined)&&(d[k-1].attributes[0].value==s)){g=d[k-1].attributes[1].value;k--}else{for(var q=f;q<h;q++){if(d[q].attributes[0].value==s){g=d[q].attributes[1].value;k=q;break}}}}}if(g!==null){if($(this).is("span")||$(this).is("option")){$(this).text(g)}else{if($(this).is("input")){$(this).val(g)}else{if($(this).is("img")){$(this).attr("title",g)}else{if($(this).is("div")){$(this).attr("title",g)}else{if(window.console&&console.log){console.log("(translate) don't know this element\""+$(this)+'"')}}}}}}else{if(window.console&&console.log){console.log('(translate) FAILED to find entry "'+$(this).attr("id")+'" in dictionnary')}}})}});$("body").css("display","block")}$(document).ready(function(){$("#xflowMainMenu").load("kw?page=mainMenu.xml&sessionid="+Sessionid()+"&dumb="+currentDate.getTime().toString(),function(b,a,c){if(a=="success"){$("#select_dico").change(function(){$.cookie("LANGUE",$(this).val(),{expires:7,path:"/",domain:"schneider-electric.com",secure:false});translate()})}else{if(a=="error"){if(window.console&&console.log){console.log("Loading of mainmenu FAILED ... ?")}}else{if(a=="timeout"){if(window.console&&console.log){console.log("Loading of mainmenu FAILED with timeout")}}else{if(a=="parseerror"){if(window.console&&console.log){console.log("Loading of mainmenu FAILED with a parse error")}}}}}translate()});if(typeof(EJSC)!="undefined"){EJSC.LineSeries.prototype.__selectPoint=function(b,c){if(!this.visible||!this.__getHasData()){return false}if(this.__doSelectPoint!=undefined){var a=this.__doSelectPoint(b,c);if(isNaN(a.__position.y)){a.__position.y=0}return a}else{return null}};EJSC.PieSeries.prototype.__selectPoint=function(a,c){if(!this.visible||!this.__getHasData()){return false}if(this.__doSelectPoint!=undefined){try{result=this.__doSelectPoint(a,c);result.userdata=a.userdata}catch(b){result=null}return result}else{return null}}}});function getTranslation(a){var b=$(window.$current_dico).find("ID[n="+a+"]").attr("v");if(b){return b}else{if(window.console&&console.log){console.log('(getTranslation) FAILED to find entry "dico_'+a+'" in dictionnary')}return null}}function EJSUseColours(a){if(a==="yes"){EJSC.DefaultColors=["rgb(120,90,59)","rgb(53,115,53)","rgb(178,87,56)","rgb(203,143,71)","rgb(55,106,155)","rgb(205,197,51)","rgb(209,130,139)","rgb(159,153,57)","rgb(206,173,136)","rgb(191,132,72)","rgb(151,135,169)","rgb(140,48,51)","rgb(59,144,187)","rgb(197,190,104)","rgb(109,136,79)","rgb(144,100,144)","rgb(181,94,94)","rgb(59,144,144)","rgb(204,136,92)","rgb(0,112,178)","rgb(195,39,41)","rgb(93,164,206)"]}else{EJSC.DefaultColors=["rgb(0,149,48)","rgb(98,100,105)","rgb(228,127,0)","rgb(177,0,67)","rgb(66,180,230)","rgb(255,209,0)","rgb(159,160,164)","rgb(135,210,0)","rgb(206,173,136)","rgb(191,132,72)","rgb(151,135,169)","rgb(140,48,51)","rgb(191,132,72)","rgb(206,173,136)","rgb(135,210,0)","rgb(159,160,164)","rgb(255,209,0)","rgb(66,180,230)","rgb(177,0,67)","rgb(228,127,0)","rgb(98,100,105)","rgb(0,149,48)"]}EJSC.DefaultPieColors=EJSC.DefaultColors}$.fn.hideDis=function(){return this.each(function(){$(this).hide().find("input, select").attr("disabled",true).find("a.varDialog").siblings("input").change()})};$.fn.showEn=function(){return this.each(function(){$(this).show().find("input, select").removeAttr("disabled").end().find("a.varDialog").siblings("input").change()})};$.fn.errorInput=function(){return this.each(function(){$($(this).attr("error-window")).show();$(this).addClass("ui-state-error").one("focus",function(){$($(this).attr("error-window")).hide();$(this).removeClass("ui-state-error")})})};function pgcd(g,f){var d,c,l,k,e,j,h;j=1;h=0;l=0;k=1;while(f>0){d=parseInt((g/f),10);c=g%f;g=f;f=c;e=l;l=j-(d*l);j=e;e=k;k=h-(d*k);h=e}return j}function powMod(c,g,j){var f;var b=c;var d=g;var h=j;for(f=1;d>0;d=parseInt((d/2),10)){if(d%2!==0){f=(f*b)%h}b=(b*b)%h}return f}function itox(c){var b="";var a;if(c===0){return"0"}if(c>0){for(;c>0;c>>>=4){a=c&15;if(a<10){b=""+a+b}else{b=""+unescape("%4"+(a-9))+b}}}else{for(c=-c-1,i=0;i<8;c>>>=4,i++){a=15-(c&15);if(a<10){b=""+a+b}else{b=""+unescape("%4"+(a-9))+b}}}return b}function rsaEncrypt(h,b,f){var k=Array();var c="";var l="";var g,d,a;a=f.length;if((a>0)&&(a<=16)){k[0]=powMod(f.charCodeAt(0),h,b);for(g=0;(g+1)<a;g++){k[g+1]=powMod(f.charCodeAt(g)+f.charCodeAt(g+1),h,b)}if(a*4<64){for(g=0;g<(64-a*4);g++){c+="0"}}for(g=0,d=0;g<a;g++){l="0000"+itox(k[g]);if(l.length>4){l=l.substr(l.length-4,4)}c+=l}if(a*4<64){c=c.substr(c.length-64,64)}}else{if(a==64){c=f}}return c}function setfocus(){var d=document.getElementById("usernameID");var b=document.getElementById("pwdID");var c=document.getElementById("saveuserID");var a=$.cookie("xflowuser");if(a!==null){d.value=a;c.checked=true;b.focus()}else{d.focus()}}function xlogin(){if(document.loginform.saveuser.checked){$.cookie("xflowuser",document.loginform.username.value,{expires:7,path:"/",domain:"schneider-electric.com",secure:false})}else{$.cookie("xflowuser",null)}document.loginform.pwd.value=rsaEncrypt(document.loginform.rsakey1.value,document.loginform.rsakey2.value,document.loginform.pwd.value)}function itox(c){var b="";var a;if(c===0){return"0"}if(c>0){for(;c>0;c>>>=4){a=c&15;if(a<10){b=""+a+b}else{b=""+unescape("%4"+(a-9))+b}}}else{for(c=-c-1,i=0;i<8;c>>>=4,i++){a=15-(c&15);if(a<10){b=""+a+b}else{b=""+unescape("%4"+(a-9))+b}}}return b}function checkpw(){with(document.userform){var pw=pwd.value;var pwc=pwdc.value;var usertype=type.value;var userprofile=profile.value;var len1=pw.length;if(len1<=16){var elem=document.getElementById("dico_1650");var elem2=document.getElementById("dico_1649");if((pw=="")&&(pwc=="")){elem.style.visibility="visible";pwd.value="";pwdc.value=""}else{if(pw==pwc){if((userprofile=="reservation")&&((usertype==3)||(usertype==4))){elem.style.visibility="hidden";elem2.style.visibility="visible";pwd.value="";pwdc.value=""}else{pwd.value=rsaEncrypt(rsakey1.value,rsakey2.value,pw);submit()}}else{elem.style.visibility="visible";pwd.value="";pwdc.value=""}}}else{submit()}}}Array.prototype.unique=function(){var c=[];o:for(var b=0,e=this.length;b<e;b++){for(var a=0,d=c.length;a<d;a++){if(c[a]==this[b]){continue o}}c[c.length]=this[b]}return c};function removeChar(c,a){var b=c.slice(parseInt(a,10)+1||c.length);c=c.substring(0,(parseInt(a,10)<0)?c.length+parseInt(a,10):a);return(c+b)}window.TestCharSet={nameRegExp:{regexp:/^[a-zA-Z0-9_@]*$/,errortext:"[a-z], [A-Z], '_' et '@'"},varnameRegExp:{regexp:/^[-a-zA-Z0-9_.@]*$/,errortext:"[a-z], [A-Z], '_', '.', '@', '-'"},commentRegExp:{regexp:/^[-a-zA-Z0-9 _@&(){}\\/°,?;:*!'=#+$.£€àâéèêëíïóôûúüùçñ%]*$/,errortext:"[a-z], [A-Z], ' ', _ @ & ( ) { } ° , ? ; : * ! = # + $ . £ - à â é è ê ë í ï ó ô û ú ü ù ç ñ %"},unitRegExp:{regexp:/^[\][a-zA-Z0-9 _@&()/°#$£€àâéèêëíïóôûúüùçñ%µ-]*$/,errortext:"[a-z], [A-Z], '_', '.', '@', '-', '()', '[]', '/', '°', '%', '&', '#', '$', '£', 'µ', à â é è ê ë í ï ó ô û ú ü ù ç ñ"},positivintRegExp:{regexp:/^(?=.*[1-9].*$)\d*$/,errortext:"1234567890"},positivdecRegExp:{regexp:/^[0-9]*[.]?[0-9]*$/,errortext:getTranslation(1453)||"Vous devez saisir un nombre : "},decRegExp:{regexp:/^[\-\+]?[0-9]*[.]?[0-9]*$/,finalregexp:/(^|[ \t])([-+]?(\d+|\.\d+|\d+\.\d*))($|[^+-.])/,errortext:getTranslation(1453)||"Vous devez saisir un nombre : "},urlRegExp:{regexp:/^((([hH][tT][tT][pP][sS]?|[fF][tT][pP])\:\/\/)?([\w\.\-]+(\:[\w\.\&%\$\-]+)*@)?((([^\s\(\)\<\>\\\"\.\[\]\,@;:]+)(\.[^\s\(\)\<\>\\\"\.\[\]\,@;:]+)*(\.[a-zA-Z]{2,4}))|((([01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}([01]?\d{1,2}|2[0-4]\d|25[0-5])))(\b\:(6553[0-5]|655[0-2]\d|65[0-4]\d{2}|6[0-4]\d{3}|[1-5]\d{4}|[1-9]\d{0,3}|0)\b)?((\/[^\/][\w\.\,\?\'\\\/\+&%\$#\=~_\-@]*)*[^\.\,\?\"\'\(\)\[\]!;<>{}\s\x7F-\xFF])?)/,finalregexp:/^((([hH][tT][tT][pP][sS]?|[fF][tT][pP])\:\/\/)?([\w\.\-]+(\:[\w\.\&%\$\-]+)*@)?((([^\s\(\)\<\>\\\"\.\[\]\,@;:]+)(\.[^\s\(\)\<\>\\\"\.\[\]\,@;:]+)*(\.[a-zA-Z]{2,4}))|((([01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}([01]?\d{1,2}|2[0-4]\d|25[0-5])))(\b\:(6553[0-5]|655[0-2]\d|65[0-4]\d{2}|6[0-4]\d{3}|[1-5]\d{4}|[1-9]\d{0,3}|0)\b)?((\/[^\/][\w\.\,\?\'\\\/\+&%\$#\=~_\-@]*)*[^\.\,\?\"\'\(\)\[\]!;<>{}\s\x7F-\xFF])?)/,errortext:getTranslation(1768)||"Une URL"},fileNameRegExp:{regexp:/(\.[^\s\\\/\:\*\?\"\<\>\|\.]+)+$/,finalregexp:/^(.*?\/|.*?\\)?([^\.\/\s|^\.\\\s]+)(?:\.([^\\\s]*)|)$/,errortext:getTranslation(653)||"Nom de fichier valide et sans espace"},imgFileNameRegExp:{regexp:/^(.*\/|.*\\)?[^\\\/:*?"<>|.\s]+\.(png|gif|jpg|jpeg)$/i,finalregexp:/^(.*\/|.*\\)?[^\\\/:*?"<>|.\s]+\.(png|gif|jpg|jpeg)$/i,errortext:(getTranslation(2049)||"Nom de fichier image sans espace")+"(png, gif, jpg, jpeg)"},Str_Authorized:getTranslation(1779)||"Seuls les caractères suivants sont autorisés : ",Str_Required:getTranslation(1780)||"Ce champ est obligatoire",Main:function(c){$(this).tooltip({addclass:"ui-state-error",addclassicon:"ui-icon ui-icon-alert"});var b=true,a=null,f=null,g=null,e=null;$(this).data("err",null);if(!$(this).attr("data-sv-disabled")){if($(this).attr("data-sv-required")){if($(this).val()===""){b=false;$(this).data("err",window.TestCharSet.Str_Required)}}if($(this).val()!=""&&b){if($(this).attr("data-sv-inline_expr")){f=new RegExp($(this).attr("data-sv-inline_expr"),"g");a=($(this).attr("data-sv-text_error"))?$(this).attr("data-sv-text_error"):$(this).attr("data-sv-inline_expr")}else{if($(this).attr("data-sv-expr")&&window.TestCharSet[$(this).attr("data-sv-expr")]){testobject=window.TestCharSet[$(this).attr("data-sv-expr")];f=testobject.regexp;g=testobject.finalregexp;a=e=window.TestCharSet.Str_Authorized+testobject.errortext}}if(f){if(!f.test($(this).val())){b=false;$(this).data("err",a)}}}if($(this).val()!=""&&b&&$(this).attr("data-sv-min")){b=($(this).val()>=parseFloat($(this).attr("data-sv-min")));$(this).data("err",(getTranslation(1786)||"Min")+": "+$(this).attr("data-sv-min"))}if($(this).val()!=""&&b&&$(this).attr("data-sv-max")){b=($(this).val()<=parseFloat($(this).attr("data-sv-max")));$(this).data("err",(getTranslation(1787)||"Max")+": "+$(this).attr("data-sv-max"))}if($(this).val()!=""&&b&&$(this).attr("data-sv-final_expr")){g=new RegExp($(this).attr("data-sv-final_expr"),"g");e=($(this).attr("data-sv-text_error"))?$(this).attr("data-sv-text_error"):$(this).attr("data-sv-final_expr")}}if(c&&b&&(c.type=="blur"||c.type=="submit")){if(g){if(!g.test($(this).val())){b=false;$(this).data("err",e)}}if(b&&$(this).data("data-sv-callbak")){b=$(this).data("data-sv-callbak")(this)}}if(!b){if($(this).data("err")){$(this).tooltip("show").one("focus",function(){$(this).tooltip("hide")})}$(this).tooltip("update",$(this).data("err"));$(this).addClass("error")}else{$(this).removeClass("error");$(this).tooltip("hide")}if(c&&c.data&&c.data.callbackname){var d=(c.data.callbackwith)?c.data.callbackwith:window;d[c.data.callbackname]($(this).val(),b)}},onReady:function(){$("input.data-sv").on("keyup.sv, blur.sv",TestCharSet.Main);$("select.data-sv").bind("change.sv",function(){$(this).tooltip({addclass:"ui-state-error",addclassicon:"ui-icon ui-icon-alert"});if(($(this).find("option:selected").text()==="")==true){$(this).tooltip("show");$(this).tooltip("update",window.TestCharSet.Str_Required);$(this).blur();$(this).addClass("error").one("focus",function(){$(this).tooltip("hide")})}else{$(this).removeClass("error");$(this).tooltip("hide")}});$("form").has(".data-sv").submit(function(){if($(this).find("input.data-sv").trigger("blur.sv").hasClass("error")){$.alert(""+getTranslation(1778)||"Un champ n'a pas été correctement renseigné");return false}else{return true}})}};$(document).bind("ready.sv",function(){window.TestCharSet.onReady()});(function(b){var a=jQuery.cleanData;b.cleanData=function(c){for(var d=0,e;(e=c[d])!==undefined;d++){b(e).triggerHandler("destroyed")}a(c)}})(jQuery);(function(b){var a={init:function(c){var d=b.extend({text:"",addclass:"",width:"200px"},c);return this.each(function(){if((b(this).data("tooltip"))===undefined){b(this).data("tooltip",b("<div/>"));b(this).data("tooltip").data("ref",b(this));b(this).data("tooltip").addClass("tooltip ui-widget ui-corner-bottom ui-corner-tr");b(this).data("tooltip").css("width",d.width);b(this).data("tooltip").addClass(d.addclass);b(this).bind("destroyed",function(){b(this).data("tooltip").hide()});if(d.addclassicon){b(this).data("tooltipicon",b("<span/>"));b(this).data("tooltipicon").addClass("tooltipicon");b(this).data("tooltipicon").addClass(d.addclassicon);b(this).data("tooltip").append(b(this).data("tooltipicon"))}b(this).data("tooltiptext",b("<span/>"));b(this).data("tooltip").append(b(this).data("tooltiptext"));b(this).data("tooltiptext").text(d.text);b("body").append(b(this).data("tooltip"));b(this).data("tooltip").bind("mouseenter.sv",function(){if(b("body div:last")[0]!=b(this).context){b(this).data("ref").tooltip("show")}})}})},show:function(){b(this).data("tooltip").hide();var c=b(this).offset();b(this).data("tooltip")[0].style.top=parseInt(c.top)-15;b(this).data("tooltip")[0].style.left=parseInt(c.left)+parseInt(b(this).width())+15;b("body").append(b(this).data("tooltip"));b(this).data("tooltip").fadeIn(300);return(this)},hide:function(){b(this).data("tooltip").fadeOut(300);return(this)},update:function(c){b(this).data("tooltiptext").text(c);return(this)}};b.fn.tooltip=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);function check_nbrecord(){with(document.NBrecordForm){var elem=document.getElementsByName("nbrecord")[0];var osXflow=xflowos.value;if(((osXflow=="ce")||(osXflow=="nt"))&&(elem.value>10000)){elem.value=10000}}}Date.prototype.setXYear=function(a){this.setFullYear(parseInt(this.getFullYear()/100,10)+a)};Date.prototype.setXMonth=function(a){this.setMonth(a-1)};Date.prototype.getXYear=function(){year=this.getFullYear()%100;if(year<10){year="0"+year}return year};Date.prototype.getXMonth=function(){month=this.getMonth()+1;if(month<10){month="0"+month}return month};Date.prototype.getXDate=function(){date=this.getDate();if(date<10){date="0"+date}return date};Date.prototype.getXHours=function(){hour=this.getHours();if(hour<10){hour="0"+hour}return hour};Date.prototype.getXMinutes=function(){min=this.getMinutes();if(min<10){min="0"+min}return min};Date.prototype.getXSeconds=function(){sec=this.getSeconds();if(sec<10){sec="0"+sec}return sec};var dayPosition=0;var monthPosition=2;var yearPosition=4;var hourPosition=6;var minPosition=8;var secPosition=10;var dates={nativformat:"d/m/y H:M:S",nativinit:"01/01/00 00:00:00",nativchars:new Array("d","/","m","/","y"," ","H",":","M",":","S"),nativregexp:new RegExp("^(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[012])/[0-9]{2} ([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$"),format:"d/m/y H:M:S",init:"01/01/00 00:00:00",customregexp:new RegExp("^(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[012])/[0-9]{2} ([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$"),chars:new Array("d","/","m","/","y"," ","H",":","M",":","S"),regexp:new RegExp("[(d)(m)(y)(Y)(H)(M)(S)]","g"),periods:{d:{nativpos:0,pos:0,size:2,val:"01",valid:"(0[1-9]|[12][0-9]|3[01])",exvarname:"dayPosition",setfunction:"setDate",getfunction:"getXDate"},m:{nativpos:3,pos:3,size:2,val:"01",valid:"(0[1-9]|1[012])",exvarname:"monthPosition",setfunction:"setXMonth",getfunction:"getXMonth"},y:{nativpos:6,pos:6,size:2,val:"00",valid:"([0-9]{2})",exvarname:"yearPosition",setfunction:"setXYear",getfunction:"getXYear"},Y:{nativpos:null,pos:6,size:4,val:"2000",valid:"([0-9]{4})",exvarname:"yearPosition",setfunction:"setFullYear",getfunction:"getFullYear"},H:{nativpos:9,pos:9,size:2,val:"00",valid:"([01][0-9]|2[0-3])",exvarname:"hourPosition",setfunction:"setHours",getfunction:"getXHours"},M:{nativpos:12,pos:12,size:2,val:"00",valid:"([0-5][0-9])",exvarname:"minPosition",setfunction:"setMinutes",getfunction:"getXMinutes"},S:{nativpos:15,pos:15,size:2,val:"00",valid:"([0-5][0-9])",exvarname:"secPosition",setfunction:"setSeconds",getfunction:"getXSeconds"}},changeFormat:function(a){dates.format=a;pos=0;dates.chars=new Array();vre="^";for(obj in dates.periods){dates.periods[obj].pos=null}for(i=0;i<a.length;i++){if(a.charAt(i)=="Y"){dates.chars.push("20");dates.chars.push("y")}else{dates.chars.push(a.charAt(i))}if(dates.periods[a.charAt(i)]){var b=dates.periods[a.charAt(i)];b.pos=pos;vre+=b.valid;pos+=b.size}else{if(a.charAt(i)=="\\"){vre+="\\\\";pos++}else{vre+=a.charAt(i);pos++}}}vre+="$";dates.customregexp=new RegExp(vre);if(dates.periods.y.pos==null&&dates.periods.Y.pos!=null){dates.periods.y.pos=dates.periods.Y.pos+2}},customToNativ:function(a){for(obj in dates.periods){var b=dates.periods[obj];if(b.pos!=null){b.val=a.substr(b.pos,b.size)}}return(dates.periods.d.val+"/"+dates.periods.m.val+"/"+dates.periods.y.val+" "+dates.periods.H.val+":"+dates.periods.M.val+":"+dates.periods.S.val)},customToNativUser:function(a){if(dates.customregexp.test(a)){return dates.customToNativ(a)}else{throw new Error(traduction_result("dico_1348"))}},customToTimestamp:function(a){date=new Date();for(obj in dates.periods){var b=dates.periods[obj];if(b.pos!=null){date[b.setfunction](a.substr(b.pos,b.size))}}return(date.getTime())},customToTimestampUser:function(a){if(dates.customregexp.test(a)){return dates.customToTimestamp(a)}else{throw new Error(traduction_result("dico_1348"))}},nativToCustom:function(c){for(obj in dates.periods){var d=dates.periods[obj];if(d.nativpos!=null){d.val=c.substr(d.nativpos,d.size)}}var a=dates.chars;var b="";for(i=0;i<a.length;i++){b+=(dates.periods[a[i]])?dates.periods[a[i]].val:a[i]}return(b)},nativToCustomUser:function(a){if(dates.nativregexp.test(a)){return dates.nativToCustom(a)}else{throw new Error(traduction_result("dico_1348"))}},nativToTimestamp:function(a){date=new Date();for(obj in dates.periods){var b=dates.periods[obj];if(b.nativpos!=null){date[b.setfunction](a.substr(b.nativpos,b.size))}}return(date.getTime())},nativToTimestampUser:function(a){if(dates.nativregexp.test(a)){return dates.nativToTimestamp(a)}else{throw new Error(traduction_result("dico_1348"))}},timestampToNativ:function(d){var a=new Date();var e=a.getTimezoneOffset();d=parseInt(d,10)+(e*60000);a.setTime(d);var b=dates.nativchars;var c="";for(i=0;i<b.length;i++){c+=(dates.periods[b[i]])?a[dates.periods[b[i]].getfunction]():b[i]}return(c)},timestampToCustom:function(d){var a=new Date();a.setTime(d);var b=dates.chars;var c="";for(i=0;i<b.length;i++){c+=(dates.periods[b[i]])?a[dates.periods[b[i]].getfunction]():b[i]}return(c)},timestampToXflowDate:function(c,d){var a=new Date();var e=a.getTimezoneOffset();c=parseInt(c,10)+(e*60000);a.setTime(c);var b="";if(d.charAt(0)=="d"){b+=a.getXDate()+"/"}else{if(d.charAt(0)=="m"){b+=a.getXMonth()+"/"}else{if(d.charAt(0)=="y"){b+=a.getXYear()+"/"}else{if(d.charAt(0)=="Y"){b+=a.getFullYear()+"/"}}}}if(d.charAt(2)=="d"){b+=a.getXDate()+"/"}else{if(d.charAt(2)=="m"){b+=a.getXMonth()+"/"}}if(d.charAt(4)=="d"){b+=a.getXDate()+" "}else{if(d.charAt(4)=="y"){b+=a.getXYear()+" "}else{if(d.charAt(4)=="Y"){b+=a.getFullYear()+" "}}}if(d.charAt(6)=="h"){b+=(((parseInt(a.getHours(),10)%12)<12)&&((parseInt(a.getHours(),10)%12)!=0))?(((parseInt(a.getXHours(),10)%12)<10)?"0"+(parseInt(a.getXHours(),10)%12):(parseInt(a.getXHours(),10)%12))+":":12+":"}else{if(d.charAt(6)=="H"){b+=a.getXHours()+":"}}b+=a.getXMinutes()+":";b+=a.getXSeconds();if(d.charAt(12)=="p"){if(parseInt(a.getXHours(),10)>11){b+=" pm"}else{b+=" am"}}return(b)},XflowDateToTimestamp:function(a,d){var c=new Date();var e=c.getTimezoneOffset();var f=d.replace(/h/g,"H");dates.changeFormat(f.substr(0,11));c=dates.customToTimestamp(a);c=parseInt(c,10)-(e*60000);if(d.indexOf("p")!=-1){if(d.indexOf("Y")!=-1){var b=a.charAt(11)+a.charAt(12)}else{var b=a.charAt(9)+a.charAt(10)}if((a.indexOf("am")!=-1)&&(b=="12")){c=parseInt(c,10)-(12*3600000)}else{if((a.indexOf("pm")!=-1)&&(b!="12")){c=parseInt(c,10)+(12*3600000)}}}return c}};function CheckXflowDate(a,d){var c="";switch(d){case"d/m/y H:M:S":c="^(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[012])/[0-9]{2} ([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$";break;case"d/m/y h:M:S p":c="^(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[012])/[0-9]{2} (0[1-9]|1[012]):([0-5][0-9]):([0-5][0-9]) (am|pm)$";break;case"d/m/Y H:M:S":c="^(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[012])/2[0-9]{3} ([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$";break;case"d/m/Y h:M:S p":c="^(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[012])/2[0-9]{3} (0[1-9]|1[012]):([0-5][0-9]):([0-5][0-9]) (am|pm)$";break;case"m/d/y H:M:S":c="^(0[1-9]|1[012])/(0[1-9]|[12][0-9]|3[01])/[0-9]{2} ([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$";break;case"m/d/y h:M:S p":c="^(0[1-9]|1[012])/(0[1-9]|[12][0-9]|3[01])/[0-9]{2} (0[1-9]|1[012]):([0-5][0-9]):([0-5][0-9]) (am|pm)$";break;case"m/d/Y H:M:S":c="^(0[1-9]|1[012])/(0[1-9]|[12][0-9]|3[01])/2[0-9]{3} ([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$";break;case"m/d/Y h:M:S p":c="^(0[1-9]|1[012])/(0[1-9]|[12][0-9]|3[01])/2[0-9]{3} (0[1-9]|1[012]):([0-5][0-9]):([0-5][0-9]) (am|pm)$";break;case"y/m/d H:M:S":c="^[0-9]{2}/(0[1-9]|1[012])/(0[1-9]|[12][0-9]|3[01]) ([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$";break;case"y/m/d h:M:S p":c="^[0-9]{2}/(0[1-9]|1[012])/(0[1-9]|[12][0-9]|3[01]) (0[1-9]|1[012]):([0-5][0-9]):([0-5][0-9]) (am|pm)$";break;case"Y/m/d H:M:S":c="^2[0-9]{3}/(0[1-9]|1[012])/(0[1-9]|[12][0-9]|3[01]) ([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$";break;case"Y/m/d h:M:S p":c="^2[0-9]{3}/(0[1-9]|1[012])/(0[1-9]|[12][0-9]|3[01]) (0[1-9]|1[012]):([0-5][0-9]):([0-5][0-9]) (am|pm)$";break;default:c="^(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[012])/[0-9]{2} ([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$";break}var b=a.match(c);if(b===null){return false}else{return true}};